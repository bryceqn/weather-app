(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),i=n.n(r),s=(n(15),n(7)),o=n.n(s),l=n(10),u=n(4),d=n(9),p=n(3),j=n(0);var h=function(e){var t=e.getWeather,n=Object(c.useState)(""),a=Object(p.a)(n,2),r=a[0],i=a[1];return Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",placeholder:"Search City or Zip Code",value:r,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t(r),i(""))}})})};var b=function(e){var t=e.city,n=e.deleteCard,c=e.selectCard,a=e.unit;return 0!==Object.keys(t).length?Object(j.jsx)("div",{onClick:function(){c(t)},children:Object(j.jsxs)("div",{className:t.isSelected?"city-card-selected":"city-card",children:[Object(j.jsx)("div",{className:"btn-container",children:Object(j.jsx)("button",{className:t.isSelected?"delete-btn-selected":"delete-btn",onClick:function(e){n(t),e.stopPropagation()},children:Object(j.jsx)("i",{className:"fa fa-close"})})}),Object(j.jsxs)("p",{className:"location",children:[t.location.name,", ",""!==t.location.region?t.location.region:t.location.country]}),Object(j.jsxs)("p",{className:"temp",children:["F"===a?Math.round(t.weather.temp_f):Math.round(t.weather.temp_c),"\xb0",a]}),Object(j.jsx)("img",{id:"main-cond",src:"http://openweathermap.org/img/wn/".concat(t.weather.icon,"@2x.png"),alt:"icon"}),Object(j.jsx)("p",{className:"description",children:t.weather.desc})]})}):null};var f=function(e){var t=e.cities,n=e.deleteCard,c=e.selectCard,a=e.unit;return Object(j.jsx)("div",{className:"cities-container",children:t.map((function(e){return Object(j.jsx)(b,{deleteCard:n,selectCard:c,city:e,unit:a})}))})};var m=function(e){var t=e.cities,n=e.unit,c=t.filter((function(e){return e.isSelected}))[0].forecast,a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=function(e){var t=new Date(1e3*e.dt),n=a[t.getDay()],c=t.getDate();return console.log(e.weather.icon),Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{className:"day-of-week",children:[n," "]}),Object(j.jsx)("span",{className:"day-of-month",children:c})]})},i=function(e){var t=Math.round(e.temp.max),c=Math.round(e.temp.min);return"C"===n&&(t=Math.round(5/9*(t-32)),c=Math.round(5/9*(c-32))),Object(j.jsxs)("p",{className:"max-min-temps",children:[t,"\xb0/",c,"\xb0"]})};return Object(j.jsx)("div",{className:"forecast-container",children:c.map((function(e){return Object(j.jsxs)("div",{className:"forecast-card",children:[r(e),Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),i(e)]})}))})};var x=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("F"),i=Object(p.a)(r,2),s=i[0],b=i[1],x=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r,i,s,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,4!==n.length){e.next=3;break}return e.abrupt("return");case 3:return c="https://api.weatherapi.com/v1/current.json?key=aa59dfe7f903424ead2132024210109&q=".concat(t),e.next=6,fetch(c);case 6:if((r=e.sent).ok){e.next=10;break}return alert("The status is wrong! Expected: 200, Was: "+r.status),e.abrupt("return");case 10:return e.next=12,r.json();case 12:return i=e.sent,c="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(i.location.lat,"&lon=").concat(i.location.lon,"&appid=eaf5b769f543ae241ec6dbf053eafaea&units=imperial"),e.next=16,fetch(c);case 16:if((r=e.sent).ok){e.next=20;break}return alert("The status is wrong! Expected: 200, Was: "+r.status),e.abrupt("return");case 20:return e.next=22,r.json();case 22:s=e.sent,d={isSelected:!0,weather:{temp_f:i.current.temp_f,temp_c:i.current.temp_c,desc:i.current.condition.text,icon:s.current.weather[0].icon},location:{name:i.location.name,region:i.location.region,country:i.location.country,lat:i.location.lat,long:i.location.lon},forecast:s.daily},p=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:!1})})),a([].concat(Object(l.a)(p),[d])),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),alert(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("button",{onClick:function(){b("F"===s?"C":"F")},className:"units-btn",children:["\xb0",s]}),Object(j.jsx)("img",{id:"appicon",src:"https://image.flaticon.com/icons/png/512/2204/2204335.png",alt:"appicon"}),Object(j.jsx)("h1",{className:"title",children:"Weather App"}),Object(j.jsx)(h,{getWeather:x}),Object(j.jsx)(f,{cities:n,deleteCard:function(e){var t=n.filter((function(t){return t!==e}));e.isSelected&&t.length>0&&(t[0].isSelected=!0),a(t)},selectCard:function(e){var t=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isSelected:!1})}));t[n.indexOf(e)].isSelected=!0,a(t)},unit:s}),0!==n.length?Object(j.jsx)(m,{cities:n,unit:s}):null]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),O()}},[[18,1,2]]]);
//# sourceMappingURL=main.e781e0e7.chunk.js.map